<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ROX Protocol | $TESTX</title>
<script src="https://cdn.jsdelivr.net/npm/ethers@6.7.0/dist/ethers.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="styles.css">
<style>
body { font-family: Arial, sans-serif; background:#0d0d0d; color:#fff; margin:0; padding:0; }
header { display:flex; justify-content:space-between; align-items:center; padding:15px; background:#111; }
header h1 { color:#FFD700; margin:0; }
button { cursor:pointer; padding:8px 16px; border:none; border-radius:6px; background:#FFD700; color:#000; font-weight:bold; margin:4px;}
button:disabled { background:#444; color:#999; cursor:not-allowed; }
nav { display:flex; justify-content:center; gap:10px; background:#111; padding:10px;}
nav button.active { background:#FF8C00; color:#fff; }
.section { display:none; padding:15px; }
.section.active { display:block; }
.card { background:#1a1a1a; padding:15px; border-radius:8px; margin-bottom:15px; }
input[type=number] { padding:6px; border-radius:4px; border:none; width:100px; margin-right:6px;}
.progress-container { background:#222; border-radius:8px; overflow:hidden; height:20px; margin:10px 0; }
.progress-bar { height:100%; width:0%; background:#FFD700; transition:width 0.5s;}
.panel { display:flex; gap:15px; flex-wrap:wrap; }
.panel .card { flex:1; min-width:220px;}
canvas { background:#111; border-radius:8px; padding:10px;}
</style>
</head>
<body>

<header>
  <h1>ROX Protocol $TESTX</h1>
  <div>
    <button id="connectBtn">Connect Wallet</button>
    <button id="disconnectBtn" style="display:none;">Disconnect</button>
    <span id="walletAddress" style="display:none;"></span>
  </div>
</header>

<nav>
  <button class="active" data-section="presale">Presale</button>
  <button data-section="staking">Staking</button>
  <button data-section="charts">Charts</button>
  <button data-section="transparency">Transparency</button>
</nav>

<!-- Presale Section -->
<div id="presale" class="section active">
  <div class="card">
    <h2>Presale Contribution</h2>
    <p>Total Raised: <span id="totalRaised">0</span> ETH</p>
    <p>Tokens Sold: <span id="tokensSold">0</span> / 500,000</p>
    <div class="progress-container"><div id="presaleBar" class="progress-bar"></div></div>
    <p id="progressText">0%</p>
    <p>Your Contribution: <span id="yourContribution">0</span> ETH</p>
    <input type="number" id="ethAmount" placeholder="ETH amount">
    <span id="tokenPreview">You'll receive: 0 $TESTX</span>
    <br><button id="contributeBtn" class="main-btn" disabled>Contribute</button>
    <button id="claimTokensBtn" class="main-btn" style="display:none;" disabled>Claim Presale Tokens</button>
  </div>
</div>

<!-- Staking Section -->
<div id="staking" class="section">
  <div class="card">
    <h2>Staking Panel</h2>
    <p>Your Balance: <span id="userBalance">0</span> $TESTX</p>
    <p>Staked Amount: <span id="stakedAmount">0</span></p>
    <p>Unlock Time / Cooldown: <span id="unlockTime">â€”</span></p>
    <input type="number" id="stakeAmount" placeholder="Amount">
    <button id="stakeBtn" class="main-btn" disabled>Stake</button>
    <button id="unstakeBtn" class="main-btn" disabled>Unstake</button>
    <p>Pending Rewards: <span id="pendingRewards">0</span></p>
    <button id="claimRewardsBtn" class="main-btn" disabled>Claim Rewards</button>
  </div>
</div>

<!-- Charts Section -->
<div id="charts" class="section">
  <div class="panel">
    <div class="card">
      <h3>Presale Chart</h3>
      <canvas id="presaleChart" height="150"></canvas>
    </div>
    <div class="card">
      <h3>Staking Chart</h3>
      <canvas id="stakingChart" height="150"></canvas>
    </div>
    <div class="card">
      <h3>Circulating Supply</h3>
      <canvas id="circulatingChart" height="150"></canvas>
      <p>Total Circulating: <span id="circulatingSupply">0</span></p>
    </div>
  </div>
</div>

<!-- Transparency Section -->
<div id="transparency" class="section">
  <div class="panel">
    <div class="card">
      <h3>Investor Transparency</h3>
      <p>Total Raised ETH: <span id="totalRaisedDisplay">0</span></p>
      <p>Tokens Sold: <span id="tokensSoldDisplay">0</span></p>
      <p>Circulating Supply: <span id="circulatingDisplay">0</span></p>
    </div>
    <div class="card">
      <h3>Vested Tokens</h3>
      <p>Owner Releasable: <span id="ownerReleasable">0</span></p>
      <p>Growth Releasable: <span id="growthReleasable">0</span></p>
      <button id="claimOwnerBtn" class="main-btn" disabled>Claim Owner Vested</button>
      <button id="claimGrowthBtn" class="main-btn" disabled>Claim Growth Vested</button>
    </div>
  </div>
</div>

<script src="abi.js"></script>
<script src="app.js"></script>
</body>
</html>
