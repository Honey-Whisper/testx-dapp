<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elyson Protocol ($EYSN) - Staking Utility Token</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="receipt.css"> 
    <link rel="stylesheet" href="notifications.css">

</head>
<body>
    <!-- Header -->
    <header>
        <nav class="navbar">
            <div class="nav-brand">
                <h1>Elyson Protocol ($EYSN)</h1>
                <p class="tagline">Built on Utility, Secured by Immutability</p>
            </div>
            <button id="connectWallet" class="btn-connect">Connect Wallet</button>
            <div id="walletInfo" class="wallet-info hidden">
                <span id="walletAddress"></span>
                <button id="disconnectWallet" class="btn-disconnect">Disconnect</button>
            </div>
        </nav>
    </header>

    <!-- Network Warning - FIXED: changed text to match config.js (Base Sepolia Testnet) -->
    <div id="networkWarning" class="network-warning hidden">
        ‚ö†Ô∏è Please switch to Base Sepolia Testnet
    </div>

    <!-- Navigation Tabs -->
    <div class="tabs-container">
        <button class="tab active" data-tab="home">Home</button>
        <button class="tab" data-tab="contribution">Contribution üî•</button>
        <button class="tab" data-tab="staking">Staking üí∞</button>
        <button class="tab" data-tab="rewards">Staking Rewards üéÅ</button>
        <button class="tab" data-tab="vesting">Vesting üìä</button>
        <button class="tab" data-tab="transparency">Transparency Vault üîí</button>
        <button class="tab" data-tab="tokenomics">Tokenomics üìà</button>
        <button class="tab" data-tab="airdrop">Airdrop Campaign üéâ</button>
    </div>

    <!-- Main Content -->
    <main class="container">
        
        <!-- HOME TAB -->
        <section id="home" class="tab-content active">
            <div class="hero">
                <h2>Elyson Protocol ($EYSN)</h2>
                <p class="hero-subtitle">Staking Utility Token on Linea zkEVM</p>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3 id="totalSupply">2,500,000</h3>
                        <p>Total Supply</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="circulatingSupply">Loading...</h3>
                        <p>Circulating Supply</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="totalStaked">Loading...</h3>
                        <p>Total Staked</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="holders">Loading...</h3>
                        <p>Holders</p>
                    </div>
                </div>

                <div class="contract-links">
                    <h3>Contract Addresses (Verified ‚úÖ)</h3>
                    <div class="contract-list">
                        <div class="contract-item">
                            <span>Token Contract:</span>
                            <a href="#" target="_blank" id="tokenLink" class="contract-address">Loading...</a>
                        </div>
                        <div class="contract-item">
                            <span>Staking Contract:</span>
                            <a href="#" target="_blank" id="stakingLink" class="contract-address">Loading...</a>
                        </div>
                        <div class="contract-item">
                            <span>Contribution Contract:</span>
                            <a href="#" target="_blank" id="contributionLink" class="contract-address">Loading...</a>
                        </div>
                        <div class="contract-item">
                            <span>Team Vesting:</span>
                            <a href="#" target="_blank" id="teamVestingLink" class="contract-address">Loading...</a>
                        </div>
                        <div class="contract-item">
                            <span>Marketing Vesting:</span>
                            <a href="#" target="_blank" id="marketingVestingLink" class="contract-address">Loading...</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CONTRIBUTION TAB -->
        <section id="contribution" class="tab-content">
            <div class="panel">
                <h2>Contribution Phase</h2>
                <div class="info-box" id="contributionStatus">
                    <p>Loading contribution info...</p>
                </div>

                <div class="contribution-form">
                    <div class="input-group">
                        <label>ETH Amount</label>
                        <input type="number" id="ethAmount" placeholder="0.01" min="0.01" step="0.01">
                        <small>Minimum: 0.01 ETH | Rate: 1 ETH = 1,000 EYSN</small>
                    </div>

                    <div class="token-split">
                        <div class="split-item">
                            <p>70% Instant</p>
                            <h3 id="instantTokens">0 EYSN</h3>
                        </div>
                        <div class="split-item">
                            <p>30% Auto-Staked</p>
                            <h3 id="stakedTokens">0 EYSN</h3>
                        </div>
                    </div>

                    <button id="contributeBtn" class="btn-primary">Contribute ETH</button>
                </div>

                <div class="user-contribution">
                    <h3>Your Contribution</h3>
                    <p>Tokens Received: <span id="userContribution">0 EYSN</span></p>
                    <p>ETH Contributed: <span id="userEthContributed">0 ETH</span></p>
                </div>
            </div>
        </section>

        <!-- STAKING TAB -->
        <section id="staking" class="tab-content">
            <div class="panel">
                <h2>Stake $EYSN Tokens</h2>
                
                <div class="staking-info">
                    <div class="info-card">
                        <h4>Current Quarter</h4>
                        <p id="currentQuarter">Loading...</p>
                    </div>
                    <div class="info-card">
                        <h4>This Quarter Reward</h4>
                        <p id="quarterReward">Loading...</p>
                    </div>
                    <div class="info-card">
                        <h4>Total Staked</h4>
                        <p id="totalStakedAmount">Loading...</p>
                    </div>
                </div>

                <div class="staking-form">
                    <div class="input-group">
                        <label>Amount to Stake</label>
                        <input type="number" id="stakeAmount" placeholder="100" min="100">
                        <small>Minimum: 100 EYSN | Lock Period: 2 Quarters (6 months)</small>
                        <button class="btn-max" id="maxStakeBtn">MAX</button>
                    </div>

                    <button id="approveStakeBtn" class="btn-secondary">1. Approve EYSN</button>
                    <button id="stakeBtn" class="btn-primary" disabled>2. Stake Tokens</button>
                </div>

                <div class="user-stake-info">
                    <h3>Your Stake</h3>
                    <p>Staked Amount: <span id="userStaked">0 EYSN</span></p>
                    <p>Start Quarter: <span id="userStartQuarter">-</span></p>
                    <p>Locked Until: <span id="lockUntil">-</span></p>
                    <p>Can Unstake Without Penalty: <span id="canUnstake">No</span></p>
                </div>
            </div>
        </section>

        <!-- STAKING REWARDS TAB -->
        <section id="rewards" class="tab-content">
            <div class="panel">
                <h2>Claim Staking Rewards</h2>
                
                <div class="rewards-display">
                    <h3>Pending Rewards</h3>
                    <div class="reward-amount">
                        <h1 id="pendingRewards">0</h1>
                        <p>EYSN</p>
                    </div>
                    <button id="claimRewardsBtn" class="btn-primary">Claim Rewards</button>
                </div>

                <div class="quarterly-breakdown">
                    <h3>Quarterly Reward Schedule</h3>
                    <table class="rewards-table">
                        <thead>
                            <tr>
                                <th>Quarter</th>
                                <th>Reward Pool</th>
                                <th>Your Share</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="quartersTable">
                            <tr><td colspan="4">Connect wallet to view</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="unstake-section">
                    <h3>Unstake Tokens</h3>
                    <div class="warning-box">
                        ‚ö†Ô∏è Unstaking before 2 quarters (6 months) incurs 15% penalty
                    </div>
                    <button id="unstakeBtn" class="btn-danger">Unstake All</button>
                </div>
            </div>
        </section>

        <!-- VESTING TAB -->
        <section id="vesting" class="tab-content">
            <div class="panel">
                <h2>Team & Marketing Vesting</h2>
                
                <div class="vesting-grid">
                    <!-- Team Vesting -->
                    <div class="vesting-card">
                        <h3>Team Vesting (15%)</h3>
                        <div class="vesting-stats">
                            <p>Total Allocation: <strong>375,000 EYSN</strong></p>
                            <p>Vested: <span id="teamVested">0 EYSN</span></p>
                            <p>Claimed: <span id="teamClaimed">0 EYSN</span></p>
                            <p>Claimable: <span id="teamClaimable">0 EYSN</span></p>
                        </div>
                        <button id="claimTeamBtn" class="btn-primary">Claim Team Vesting</button>
                        <small>Only team wallet can claim</small>
                    </div>

                    <!-- Marketing Vesting -->
                    <div class="vesting-card">
                        <h3>Marketing Vesting (10%)</h3>
                        <div class="vesting-stats">
                            <p>Total Allocation: <strong>250,000 EYSN</strong></p>
                            <p>Vested: <span id="marketingVested">0 EYSN</span></p>
                            <p>Claimed: <span id="marketingClaimed">0 EYSN</span></p>
                            <p>Claimable: <span id="marketingClaimable">0 EYSN</span></p>
                        </div>
                        <button id="claimMarketingBtn" class="btn-primary">Claim Marketing Vesting</button>
                        <small>Only marketing wallet can claim</small>
                    </div>
                </div>

                <div class="vesting-info">
                    <h3>Vesting Schedule</h3>
                    <ul>
                        <li>‚úÖ 20% released at TGE (Token Generation Event)</li>
                        <li>‚è≥ 80% vested linearly over 24 months</li>
                        <li>üìÖ Claimable anytime (no lock-up after vesting)</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- TRANSPARENCY VAULT TAB -->
        <section id="transparency" class="tab-content">
            <div class="panel">
                <h2>Transparency Vault üîí</h2>
                <p class="subtitle">All allocations and locks visible on-chain</p>

                <div class="transparency-grid">
                    <div class="transparency-card">
                        <h3>Staking Rewards Pool</h3>
                        <p class="allocation">750,000 EYSN (30%)</p>
                        <p>Status: Locked in contract</p>
                        <p>Distribution: 8 quarters over 2 years</p>
                        <div class="progress-bar">
                            <div class="progress" id="stakingProgress" style="width: 0%"></div>
                        </div>
                        <p><span id="stakingDistributed">0</span> / 750,000 distributed</p>
                    </div>

                    <div class="transparency-card">
                        <h3>Contribution Phase</h3>
                        <p class="allocation">625,000 EYSN (25%)</p>
                        <p>Status: <span id="contributionStatusText">Active</span></p>
                        <p>Distributed: <span id="contributionDistributed">0 EYSN</span></p>
                        <div class="progress-bar">
                            <div class="progress" id="contributionProgress" style="width: 0%"></div>
                        </div>
                    </div>

                    <div class="transparency-card">
                        <h3>Liquidity Pool</h3>
                        <p class="allocation">375,000 EYSN (15%)</p>
                        <p>Status: Locked for 3-5 years</p>
                        <a href="#" class="verify-link" id="liquidityLockLink">Verify Lock üîó</a>
                    </div>

                    <div class="transparency-card">
                        <h3>Team Allocation</h3>
                        <p class="allocation">375,000 EYSN (15%)</p>
                        <p>Vested: <span id="teamVestedPercent">0%</span></p>
                        <div class="progress-bar">
                            <div class="progress" id="teamVestingProgress" style="width: 0%"></div>
                        </div>
                    </div>

                    <div class="transparency-card">
                        <h3>Marketing Allocation</h3>
                        <p class="allocation">250,000 EYSN (10%)</p>
                        <p>Vested: <span id="marketingVestedPercent">0%</span></p>
                        <div class="progress-bar">
                            <div class="progress" id="marketingVestingProgress" style="width: 0%"></div>
                        </div>
                    </div>

                    <div class="transparency-card">
                        <h3>Airdrop</h3>
                        <p class="allocation">125,000 EYSN (5%)</p>
                        <p>Status: Distributed to community</p>
                        <p>No lock, no vesting</p>
                    </div>
                </div>

                <div class="ownership-status">
                    <h3>Ownership Status</h3>
                    <div class="status-grid">
                        <div class="status-item">
                            <p>Token Contract</p>
                            <span id="tokenOwnership" class="status-badge">Checking...</span>
                        </div>
                        <div class="status-item">
                            <p>Staking Contract</p>
                            <span id="stakingOwnership" class="status-badge">Checking...</span>
                        </div>
                        <div class="status-item">
                            <p>Contribution Contract</p>
                            <span id="contributionOwnership" class="status-badge">Checking...</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- TOKENOMICS TAB -->
        <section id="tokenomics" class="tab-content">
            <div class="panel">
                <h2>Tokenomics üìä</h2>
                
                <div class="tokenomics-chart">
                    <h3>Token Distribution</h3>
                    <div class="pie-chart">
                        <div class="pie-slice" style="--percentage: 30; --color: #ff6b35;">
                            <span>30% Staking</span>
                        </div>
                        <div class="pie-slice" style="--percentage: 25; --color: #f7931a;">
                            <span>25% Contribution</span>
                        </div>
                        <div class="pie-slice" style="--percentage: 15; --color: #4ecdc4;">
                            <span>15% Liquidity</span>
                        </div>
                        <div class="pie-slice" style="--percentage: 15; --color: #556fb5;">
                            <span>15% Team</span>
                        </div>
                        <div class="pie-slice" style="--percentage: 10; --color: #95e1d3;">
                            <span>10% Marketing</span>
                        </div>
                        <div class="pie-slice" style="--percentage: 5; --color: #ffd93d;">
                            <span>5% Airdrop</span>
                        </div>
                    </div>
                </div>

                <div class="tokenomics-details">
                    <h3>Key Features</h3>
                    <ul class="features-list">
                        <li>‚úÖ Fixed Supply: 2,500,000 EYSN (no minting)</li>
                        <li>‚úÖ Anti-Whale: 4% max per wallet (100,000 tokens)</li>
                        <li>‚úÖ Transfer Cooldown: 30 seconds</li>
                        <li>‚úÖ Staking Lock: Minimum 2 quarters (6 months)</li>
                        <li>‚úÖ Early Unstake Penalty: 15%</li>
                        <li>‚úÖ Decreasing Rewards: Q1-Q2 highest, Q7-Q8 lowest</li>
                        <li>‚úÖ Immutable Contracts: No upgrades possible</li>
                        <li>‚úÖ Ownership Renounced: Fully decentralized</li>
                    </ul>
                </div>

                <div class="quarterly-schedule">
                    <h3>Staking Reward Schedule</h3>
                    <table>
                        <tr><th>Quarter</th><th>Reward</th><th>% of Pool</th></tr>
                        <tr><td>Q1</td><td>120,000 EYSN</td><td>16%</td></tr>
                        <tr><td>Q2</td><td>120,000 EYSN</td><td>16%</td></tr>
                        <tr><td>Q3</td><td>105,000 EYSN</td><td>14%</td></tr>
                        <tr><td>Q4</td><td>105,000 EYSN</td><td>14%</td></tr>
                        <tr><td>Q5</td><td>90,000 EYSN</td><td>12%</td></tr>
                        <tr><td>Q6</td><td>90,000 EYSN</td><td>12%</td></tr>
                        <tr><td>Q7</td><td>60,000 EYSN</td><td>8%</td></tr>
                        <tr><td>Q8</td><td>60,000 EYSN</td><td>8%</td></tr>
                    </table>
                </div>
            </div>
        </section>

        <!-- AIRDROP CAMPAIGN TAB -->
        <section id="airdrop" class="tab-content">
            <div class="panel">
                <h2>Airdrop Campaign üéâ</h2>
                <p class="subtitle">Total Airdrop Pool: 125,000 EYSN (5%)</p>

                <div class="airdrop-info">
                    <div class="info-box warning">
                        ‚ö†Ô∏è Sybil Resistance & Fair Distribution
                        <p>To receive airdrop, complete SBT verification. This ensures one human = one allocation.</p>
                    </div>

                    <div class="verification-box">
                        <h3>Verify Your Eligibility</h3>
                        <button id="verifySBTBtn" class="btn-primary">Verify on BaseScan üîç</button>
                        <p>SBT Status: <span id="sbtStatus">Not Verified</span></p>
                    </div>

                   <div class="airdrop-claim">
                        <h3>Claim Your Airdrop</h3>
                        <p>Your Allocation: <span id="userAirdrop">0 EYSN</span></p>
                        <button id="claimAirdropBtn" class="btn-primary" disabled>Claim Airdrop</button>
                    </div>

                    <div class="bonus-system">
                        <h3>Bonus Rewards (Optional)</h3>
                        <div class="bonus-grid">
                            <div class="bonus-card">
                                <h4>NFT Holder Bonus (+500 EYSN)</h4>
                                <p>Hold eligible NFTs</p>
                                <button class="btn-secondary">Check Eligibility</button>
                            </div>
                            <div class="bonus-card">
                                <h4>Legacy Vault (+300 EYSN)</h4>
                                <p>Submit price prediction</p>
                                <button class="btn-secondary">Participate</button>
                            </div>
                            <div class="bonus-card">
                                <h4>Daily Check-in (+5 EYSN)</h4>
                                <p>Visit daily</p>
                                <button class="btn-secondary">Check In</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h4>Elyson Protocol</h4>
                <p>Staking utility token on Linea zkEVM</p>
            </div>
            <div class="footer-section">
                <h4>Links</h4>
                <a href="#">Twitter</a>
                <a href="#">Telegram</a>
                <a href="#">Discord</a>
                <a href="#">GitHub</a>
            </div>
            <div class="footer-section">
                <h4>Resources</h4>
                <a href="#">Whitepaper</a>
                <a href="#">Audit Report</a>
                <a href="#">Documentation</a>
            </div>
        </div>
        <p class="footer-disclaimer">
            ‚ö†Ô∏è Disclaimer: Cryptocurrency investments are high-risk. DYOR (Do Your Own Research). 
            Elyson Protocol makes no guarantees of returns or profits.
        </p>
    </footer>

    <!-- Scripts - FIXED: corrected the broken/malformed ethers tag -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
    <script src="config.js"></script>
    <script src="utils.js"></script>
    <script src="notifications.js"></script>
    <script src="token.js"></script>
    <script src="staking.js"></script>
    <script src="contribution.js"></script>
    <script src="vesting.js"></script>
    <script src="receipt.js"></script>
    <script src="app.js"></script>
</body>
</html>